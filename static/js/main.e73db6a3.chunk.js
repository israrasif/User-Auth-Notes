(this["webpackJsonpuser-auth-redux"]=this["webpackJsonpuser-auth-redux"]||[]).push([[0],{60:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(15),a=n.n(r),o=n(11),u=n(3),i=n(4),l=(n(38),n(12)),j=n.n(l),b={type:"REGISTER_PUSH"},h={type:"REGISTER"},d={type:"EMPTY"},O={type:"LOGIN"},p=function(e){return{type:"TOKEN_STATUS",payload:e}},g={type:"START_ACCOUNT"},x=function(e){return{type:"ACCOUNT_DETAILS",payload:e}},f={type:"LOGOUT"},m=function(e){return{type:"ALL_NOTES",payload:e}},y={type:"ADD_NOTE"},v={type:"DELETE_NOTE"},T=n(1),S=function(e){return Object(T.jsx)("div",{children:Object(T.jsx)("h2",{children:"Home Component"})})},E=n(10),w=function(e){var t=Object(c.useState)(""),n=Object(E.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(""),o=Object(E.a)(a,2),u=o[0],l=o[1],d=Object(c.useState)(""),O=Object(E.a)(d,2),p=O[0],g=O[1],x=Object(i.b)(),f=function(e){var t=e.target.name;"username"===t?r(e.target.value):"email"===t?l(e.target.value):"password"===t&&g(e.target.value)},m=Object(i.c)((function(e){return e.registered}));console.log(m),m.length&&e.history.push("/login");return Object(T.jsxs)("div",{children:[Object(T.jsx)("h2",{children:"Register with us"}),Object(T.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),x((t={username:s,email:u,password:p},function(e){j.a.post("http://dct-user-auth.herokuapp.com/users/register",t).then((function(n){console.log(t),e(h),e(b),alert("user registered"),console.log(n.data)})).catch((function(e){console.log(e.message)}))}))},class:"form-group",children:[Object(T.jsx)("input",{class:"form-control",type:"text",value:s,onChange:f,name:"username",placeholder:"username"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("input",{class:"form-control",type:"text",value:u,onChange:f,name:"email",placeholder:"email"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("input",{class:"form-control",type:"text",value:p,onChange:f,name:"password",placeholder:"password"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("button",{type:"submit",class:"btn btn-success",children:"submit"})]})]})},N=function(e){var t=Object(c.useState)(""),n=Object(E.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(""),o=Object(E.a)(a,2),u=o[0],l=o[1],b=Object(i.b)();Object(c.useEffect)((function(){b(d)}),[]);var h=function(e){var t=e.target.name;"email"===t?r(e.target.value):"password"===t&&l(e.target.value)};return Object(T.jsx)("div",{children:Object(T.jsxs)("form",{onSubmit:function(t){var n;t.preventDefault(),b((n={email:s,password:u},function(e){j.a.post("http://dct-user-auth.herokuapp.com/users/login",n).then((function(t){console.log(t.data),alert("logged in"),e(O),e(p(t.data.token))})).catch((function(e){alert(e.message)}))})),e.history.push("/")},class:"form-group",children:[Object(T.jsx)("input",{class:"form-control",type:"text",value:s,onChange:h,name:"email",placeholder:"email"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("input",{class:"form-control",type:"text",value:u,onChange:h,name:"password",placeholder:"password"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("button",{class:"btn btn-success",type:"submit",children:"submit"})]})})},k=function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.userToken})),s=Object(i.c)((function(e){return e.userDetails}));return Object(c.useEffect)((function(){t(function(e){return function(t){j.a.get("http://dct-user-auth.herokuapp.com/users/account",{headers:{"x-auth":e}}).then((function(e){console.log(e.data),t(g),t(x(e.data))})).catch((function(e){console.log(e.message)}))}}(n))}),[]),Object(T.jsxs)("div",{children:[Object(T.jsxs)("h3",{children:["user name- ",s.username]}),Object(T.jsxs)("h3",{children:["email- ",s.email]})]})},C=function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.userToken})),s=Object(i.c)((function(e){return e.notes}));return Object(c.useEffect)((function(){t(function(e){return function(t){j.a.get("http://dct-user-auth.herokuapp.com/api/notes",{headers:{"x-auth":e}}).then((function(e){t(m(e.data)),console.log(e.data)})).catch((function(e){alert(e.message)}))}}(n))}),[]),Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Notes List"}),Object(T.jsxs)("h4",{children:["Total Notes - ",s.length]}),Object(T.jsx)("ul",{children:s.map((function(e){return Object(T.jsxs)("li",{children:[e.title," -",e.body,Object(T.jsx)("button",{class:"btn btn-danger",style:{marginBottom:"3px"},onClick:function(){t(function(e,t){return function(n){j.a.delete("http://dct-user-auth.herokuapp.com/api/notes/".concat(e),{headers:{"x-auth":t}}).then((function(e){e.data,n(v)})).catch((function(e){alert(e.message)}))}}(e._id,n))},children:"x"})]},e._id)}))})]})},A=function(e){var t=Object(c.useState)(""),n=Object(E.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(""),o=Object(E.a)(a,2),u=o[0],l=o[1],b=Object(i.c)((function(e){return e.userToken})),h=Object(i.b)(),d=function(e){var t=e.target.name;"title"===t?r(e.target.value):"body"===t&&l(e.target.value)};return Object(T.jsxs)("div",{children:[Object(T.jsx)("h2",{children:"My Notes"}),Object(T.jsx)("h3",{children:"Add note"}),Object(T.jsx)("form",{onSubmit:function(t){t.preventDefault(),h(function(e,t){return function(n){j.a.post("http://dct-user-auth.herokuapp.com/api/notes",e,{headers:{"x-auth":t}}).then((function(e){n(y),console.log("successfully added notes"),console.log(e.data)})).catch((function(e){console.log(e.message)}))}}({title:s,body:u},b)),e.history.push("/myNotes")},children:Object(T.jsxs)("div",{class:"form-group",children:[Object(T.jsx)("input",{class:"form-control",type:"text",value:s,onChange:d,name:"title",placeholder:"title"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("textarea",{class:"form-control",type:"textarea",value:u,onChange:d,name:"body",placeholder:"note body"})," ",Object(T.jsx)("br",{}),Object(T.jsx)("button",{class:"btn btn-success",type:"submit",children:"save"})]})}),Object(T.jsx)(C,{})]})},L=Object(u.e)((function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.userToken}));return console.log(n),Object(T.jsxs)("div",{class:"container",children:[Object(T.jsx)("h1",{children:"User Auth - Redux"}),Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{class:"btn btn-warning",style:{margin:"5px"},children:Object(T.jsx)(o.b,{to:"/",children:"Home"})}),n.length?Object(T.jsxs)(s.a.Fragment,{children:[Object(T.jsx)("li",{class:"btn btn-warning",style:{margin:"5px"},children:Object(T.jsx)(o.b,{to:"/account",children:"Account"})}),Object(T.jsx)("li",{class:"btn btn-warning",style:{margin:"5px"},children:Object(T.jsx)(o.b,{to:"/myNotes",children:"My Notes"})}),Object(T.jsx)("li",{class:"btn btn-warning",style:{margin:"5px"},children:Object(T.jsx)(o.b,{to:"/",onClick:function(){e.history.push("/"),t(f),alert("user logged out")},children:"Logout"})})]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("li",{class:"btn btn-warning",style:{margin:"5px"},children:Object(T.jsx)(o.b,{to:"/register",children:"Register"})}),Object(T.jsx)("li",{class:"btn btn-warning",style:{margin:"5px"},children:Object(T.jsx)(o.b,{to:"/login",children:"Login"})})]})]}),Object(T.jsx)(u.a,{path:"/",component:S,exact:!0}),Object(T.jsx)(u.a,{path:"/register",component:w}),Object(T.jsx)(u.a,{path:"/login",component:N}),Object(T.jsx)(u.a,{path:"/account",component:k}),Object(T.jsx)(u.a,{path:"/myNotes",component:A})]})})),_={},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCOUNT_DETAILS":return t.payload;default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOKEN_STATUS":return t.payload;case"LOGOUT":return"";default:return e}},U=[],I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_NOTES":return t.payload;default:return e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_PUSH":return"registered";case"EMPTY":return"";default:return e}},H=n(30),M=n(17),P=function(){return Object(M.c)(Object(M.b)({userDetails:D,userToken:R,notes:I,registered:G}),Object(M.a)(H.a))}();P.subscribe((function(){P.getState()})),a.a.render(Object(T.jsx)(o.a,{children:Object(T.jsx)(i.a,{store:P,children:Object(T.jsx)(L,{})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.e73db6a3.chunk.js.map